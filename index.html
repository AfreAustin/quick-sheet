<!DOCTYPE html>
<html xmlns=http://www.w3.org/1999/xhtml lang="en">
<head>
  <title>Quick Sheet</title>
  <!-- <base href="https://www.quicksheet.com/" target="_blank"/> -->
<!--  <link media="screen and (max-width: 600px)" href="styles/x-small.css" type="text/css" rel="stylesheet" />
  <link media="screen and (min-width: 600px)" href="styles/small.css" type="text/css" rel="stylesheet" />
  <link media="screen and (min-width: 768px)" href="styles/medium.css" type="text/css" rel="stylesheet" /> -->
  <link href="styles.css" type="text/css" rel="stylesheet" /> <!-- laptops/desktops -->
<!--  <link media="screen and (min-width: 1200px)" href="styles/x-large.css" type="text/css" rel="stylesheet" /> -->
  
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="Keywords" content="Reference">
  <meta name="Description" content="Reference for various computer languages and concepts" />
</head>
<body>
  <div class="site">
    <aside class="side-nav" id="side-nav">
      <button class="side-toggle" id="nav-toggle" onclick="toggleNav()"></button>
      <strong class="nav-title" id="nav-title">QUICK SHEETS</strong>
      <hr />
      <nav id="nav-content">
        <details class="nav-item">
          <summary>Web Development</summary>
          <ul class="nav-list">
            <li>HTML</li>
            <li>&nbsp; XML</li>
            <li>&nbsp; XHTML</li>
            <li>CSS</li>
            <li>&nbsp; SASS</li>
            <li>&nbsp; SCSS</li>
            <li>&nbsp; BootStrap</li>
            <li>JavaScript</li>
            <li>&nbsp; TypeScript</li>
            <li>PHP</li>
            <li>SQL</li>
            <li>&nbsp; MySQL</li>
            <li>&nbsp; MongoDB</li>
          </ul>
        </details>
        <details class="nav-item">
          <summary>Data Analysis</summary>
          <ul class="nav-list">
            <li>Python</li>
            <li>MATLAB</li>
            <li>&nbsp; Simulink</li>
            <li>Mathematica</li>
          </ul>
        </details>
        <details class="nav-item">
          <summary>Assembly Language</summary>
          <ul class="nav-list">
            <li>Assembly</li>
            <li>PIC32</li>
            <li>Verilog</li>
            <li>MIPS</li>
          </ul>
        </details>
        <details class="nav-item">
          <summary>Embedded System</summary>
          <ul class="nav-list">
            <li>Altera Quartus</li>
            <li>MPLAB</li>
            <li>Xilinx Vivado</li>
            <li>Renesas e2 Studio</li>
          </ul>
        </details>
      </nav>
      <hr />
      <footer class="nav-foot" id="nav-footer">
        <address class="creator">created by AfreAustin</address>
      </footer>
    </aside>

    <main class="reference">
      <menu class="ref-menu" id="ref-menu">
        <h1 class="ref-title" id="ref-title">HTML</h1>
        <search class="ref-search">
          <input id="dir-search" type="search" placeholder="Search..." oninput="filterDirectory()" />
        </search>
        <span class="ref-tools" style="margin-left: 20px;">TOOLS</span>
      </menu>
      
      <dl class="directory" id="directory">
        <!--<a class="standard" id="standard" href="https://html.spec.whatwg.org/multipage/">
          Original Reference
        </a> -->
      </dl>
    </main>

    <article class="term-details" id="term-details">
      <button class="side-toggle" id="term-toggle" onclick="toggleTerm()"></button>
      <header class="detail-header" id="detail-header">
        <h2 class="detail-title" id="detail-title">SELECT OPTION FROM LIST</h2>
        <h3 class="detail-definition" id="detail-definition">Full Description is shown here</h3>
      </header>
      <p class="detail-info" id="detail-info">More information is shown here</p>
      <hr />
      <cite class="detail-ref" id="detail-ref">
        <a class="detail-link" id="detail-link" href="#">Reference</a>
      </cite>
    </article>
  </div>
  <script>
    // adds onclick event to all <li> elements in side navigation
    // click event triggers reference sheet swap
    const listItems = document.getElementById("side-nav").getElementsByTagName("li");
    for (let i = 0; i < listItems.length; i++) {
      listItems.item(i).addEventListener("click", function(){
        let title = listItems.item(i).innerText.trim().split(" ");
        let sheet = title[0];

        document.getElementById("ref-title").innerText = sheet;
      }, false);
    }

    // convert terms from JSON to objects
    let temp = {
      category: "Information",
      term: "Source",
      definition: "Original Reference"
    };
    let temp2 = {
      category: "Actual",
      term: "Command3",
      definition: "Short Description3"
    };
    const refTerms = [temp, temp2];

    // populate directory with reference's terms (ES6+)
    let directory = document.getElementById("directory");
    refTerms.forEach(function(term) {
      console.log(term.category);
      let sections = directory.children;
      let exists = false;

      for (i = 0; i < sections.length; i++) {
        let category = sections.item(i).firstElementChild.innerText; 
        if (category.toUpperCase() == term.category.toUpperCase()) exists = true;
      }

      if (exists == false) {
        const categoryElem = document.createElement("section");
        const catTitleElem = document.createElement("h2");

        categoryElem.setAttribute("class", "category");
        catTitleElem.setAttribute("class", "category-title");

        directory.appendChild(categoryElem);
        categoryElem.appendChild(catTitleElem);
        catTitleElem.innerText = term.category;
      }

      for (i = 0; i < sections.length; i++) {
        if (term.category.toUpperCase() == sections.item(i).firstElementChild.innerText.toUpperCase()) {
          const bubbleElem = document.createElement("div");
          const termElem = document.createElement("dt");
          const defElem = document.createElement("dd");

          bubbleElem.setAttribute("class", "term-bubble");
          termElem.setAttribute("class", "term");
          defElem.setAttribute("class", "def");

          sections.item(i).appendChild(bubbleElem);
          bubbleElem.appendChild(termElem);
          termElem.innerText = term.term;
          bubbleElem.appendChild(defElem);
          defElem.innerText = term.definition;

        }
      }
    });
    
    // adds onclick event to all elements with term-bubble class
    // click event triggers details swap
    const listTerms = document.getElementById("directory").getElementsByClassName("term-bubble");
    for (let i = 0; i < listTerms.length; i++) {
      let currBubble = listTerms.item(i); 
      currBubble.addEventListener("click", function(){
        let currTerm = currBubble.children;
        let detail = document.getElementById("term-details");

        document.getElementById("detail-title").innerText = currTerm.item(0).innerText;
        document.getElementById("detail-definition").innerText = currTerm.item(1).innerText;
      }, false);
    }

    // toggle side navigation based on current width
    // if currently shown, hide all elements except toggle button
    // if currently collapsed, show all elements  
    function toggleNav() {
      let sideNav = document.getElementById("side-nav");
      let title = document.getElementById("nav-title");
      let nav = document.getElementById("nav-content");
      let foot = document.getElementById("nav-footer");

      let currWidth = window.getComputedStyle(sideNav).width;
      
      if (currWidth == "200px") {
        title.style.display = "none";
        nav.style.display = "none";
        foot.style.display = "none";
        sideNav.style.flexBasis = "50px";
      } else {
        title.style.display = "initial";
        nav.style.display = "initial";
        foot.style.display = "initial";
        sideNav.style.flexBasis = "200px";
      }

      return;
    }

    function toggleTerm() {
      let article = document.getElementById("term-details");
      let head = document.getElementById("detail-header");
      let info = document.getElementById("detail-info");
      let ref = document.getElementById("detail-ref");

      let currWidth = window.getComputedStyle(article).width;
      
      if (currWidth != "50px") {
        head.style.display = "none";
        info.style.display = "none";
        ref.style.display = "none";
        article.style.flexBasis = "50px";
      } else {
        head.style.display = "initial";
        info.style.display = "initial";
        ref.style.display = "initial";
        article.style.flexBasis = "40%";
      }

      return;
    }

    // filter reference directory to show what is searched
    function filterDirectory() {
      let search = document.getElementById("dir-search").value;
      let directory = document.getElementById("directory").getElementsByClassName("term");

      for (let i = 0; i < directory.length; i++) {
        let matching = directory.item(i).innerText.toUpperCase().match(search.toUpperCase());
        if (matching) directory.item(i).parentElement.style.display = "initial";
        else directory.item(i).parentElement.style.display = "none";
      }

      return;
    }
  </script>
  <noscript>
    JavaScript not supported :/
    Download the print reference instead...
  </noscript>
</body>
</html>